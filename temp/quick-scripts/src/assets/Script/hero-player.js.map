{"version":3,"sources":["assets\\Script\\hero-player.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["// Learn TypeScript:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html\r\n// Learn Attribute:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nexport default class NewClass extends cc.Component {\r\n\r\n    @property\r\n    text: string = \"基础脚本\";\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n    private _input = {};\r\n    private _speed:number = 200;\r\n    private _animation :string = 'player_idle';\r\n\r\n    onLoad() {\r\n        cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN, this.onKeyDown, this);\r\n        cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP, this.onKeyUp, this);\r\n        this.node.getComponent(cc.Animation).on(cc.Animation.EventType.FINISHED,\r\n            this.animationFinished, this);\r\n        \r\n    }\r\n\r\n    onDestroy() {\r\n        cc.systemEvent.off(cc.SystemEvent.EventType.KEY_DOWN, this.onKeyDown, this);\r\n        cc.systemEvent.off(cc.SystemEvent.EventType.KEY_UP, this.onKeyUp, this);\r\n        this.node.getComponent(cc.Animation).off(cc.Animation.EventType.FINISHED, this.animationFinished, this);\r\n    }\r\n\r\n    animationFinished(event: string, data: any) {\r\n        console.log(event , data);\r\n    }\r\n\r\n    onKeyDown(e: any) {\r\n        this._input[e.keyCode] = 1;\r\n        let ani = 'player_idle';\r\n        if (this._input[cc.macro.KEY.a] || this._input[cc.macro.KEY.left]) {\r\n            ani = 'player_a';\r\n        }else if(this._input[cc.macro.KEY.d] || this._input[cc.macro.KEY.right]){\r\n            ani = 'player_d';\r\n        }else if(this._input[cc.macro.KEY.s] || this._input[cc.macro.KEY.down]){\r\n            ani = 'player_s';\r\n        }else if(this._input[cc.macro.KEY.w] || this._input[cc.macro.KEY.up]){\r\n            ani = 'player_w';\r\n        }\r\n        this.playAnimation(ani);\r\n    }\r\n\r\n    playAnimation(ani:string){\r\n        if(this._animation !== ani){\r\n            this._animation = ani;\r\n            this.node.getComponent(cc.Animation).play(ani);\r\n        }\r\n    }\r\n\r\n    onKeyUp(e: any) {\r\n        this._input[e.keyCode] = 0;\r\n    }\r\n\r\n\r\n    start() {\r\n\r\n    }\r\n\r\n    update(dt:number) {\r\n        if (this._input[cc.macro.KEY.a] || this._input[cc.macro.KEY.left]) {\r\n            this.node.x -= this._speed * dt;\r\n        }else if(this._input[cc.macro.KEY.d] || this._input[cc.macro.KEY.right]){\r\n            this.node.x += this._speed * dt;\r\n        }else if(this._input[cc.macro.KEY.s] || this._input[cc.macro.KEY.down]){\r\n            this.node.y -= this._speed * dt;\r\n        }else if(this._input[cc.macro.KEY.w] || this._input[cc.macro.KEY.up]){\r\n            this.node.y += this._speed * dt;\r\n        }\r\n    }\r\n}\r\n"]}
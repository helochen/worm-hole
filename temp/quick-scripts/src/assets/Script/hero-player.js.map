{"version":3,"sources":["assets\\Script\\hero-player.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["// Learn TypeScript:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html\r\n// Learn Attribute:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nexport default class NewClass extends cc.Component {\r\n\r\n    @property\r\n    text: string = \"基础脚本\";\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n    private _input = {};\r\n    private _speed: number = 5;\r\n    private _animation: string = 'player_idle';\r\n    private _position: cc.Vec2;\r\n    private _ani = 'player_idle';\r\n    \r\n    onLoad() {\r\n        cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN, this.onKeyDown, this);\r\n        cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP, this.onKeyUp, this);\r\n        this.node.getComponent(cc.Animation).on(cc.Animation.EventType.FINISHED,\r\n            this.animationFinished, this);\r\n\r\n        this._position = this.node.getPosition();\r\n\r\n    }\r\n\r\n    onDestroy() {\r\n        cc.systemEvent.off(cc.SystemEvent.EventType.KEY_DOWN, this.onKeyDown, this);\r\n        cc.systemEvent.off(cc.SystemEvent.EventType.KEY_UP, this.onKeyUp, this);\r\n        this.node.getComponent(cc.Animation).off(cc.Animation.EventType.FINISHED, this.animationFinished, this);\r\n    }\r\n\r\n    animationFinished(event: string, data: any) {\r\n        console.log(event, data);\r\n    }\r\n\r\n    onKeyDown(e: any) {\r\n        this._input[e.keyCode] = 1;\r\n        if (this._input[cc.macro.KEY.a]) {\r\n            this._ani = 'player_a';\r\n            this._position.x -= this._speed;\r\n        } else if (this._input[cc.macro.KEY.d]) {\r\n            this._ani = 'player_d';\r\n            this._position.x += this._speed;\r\n        } else if (this._input[cc.macro.KEY.s]) {\r\n            this._ani = 'player_s';\r\n            this._position.y -= this._speed;\r\n        } else if (this._input[cc.macro.KEY.w]) {\r\n            this._ani = 'player_w';\r\n            this._position.y += this._speed;\r\n        }\r\n\r\n    }\r\n\r\n    playAnimation(ani: string) {\r\n        if (this._animation !== ani) {\r\n            this._animation = ani;\r\n            this.node.getComponent(cc.Animation).play(ani);\r\n        }\r\n    }\r\n\r\n    onKeyUp(e: any) {\r\n        this._input[e.keyCode] = 0;\r\n    }\r\n\r\n\r\n    start() {\r\n\r\n    }\r\n\r\n    update(dt: number) {\r\n        // if (this._input[cc.macro.KEY.a] || this._input[cc.macro.KEY.left]) {\r\n        //     this.node.x -= this._speed * dt;\r\n        // }else if(this._input[cc.macro.KEY.d] || this._input[cc.macro.KEY.right]){\r\n        //     this.node.x += this._speed * dt;\r\n        // }else if(this._input[cc.macro.KEY.s] || this._input[cc.macro.KEY.down]){\r\n        //     this.node.y -= this._speed * dt;\r\n        // }else if(this._input[cc.macro.KEY.w] || this._input[cc.macro.KEY.up]){\r\n        //     this.node.y += this._speed * dt;\r\n        // }\r\n        this.node.x = this._position.x;\r\n        this.node.y = this._position.y;\r\n        this.playAnimation(this._ani);\r\n    }\r\n}\r\n"]}